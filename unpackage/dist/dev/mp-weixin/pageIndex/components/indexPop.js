"use strict";var t=require("../../common/vendor.js"),a=require("../../utils/index.js"),c=require("../../utils/api.js"),m=require("../../common/assets.js");require("../../utils/http.js");require("../../utils/index1.js");require("../../utils/base.js");const h=()=>"../../pages/filePop/filePop.js",u=()=>"./shareSetting.js",d={data(){return{showPage:!0,resetName:"",listItem:{name:"",size:"",fileClass:""},selectItemsAry:[],button_2:0,button_3:"",passwordShow:!1,button_5:"",downNumber:10,downDay:1,button_4:0,button_1:0}},components:{filePop:h,shareSetting:u},filters:{timedown(e){return a.timedown(e)},timedownshow(e){return a.timedownshow(e)},timedownshowmm(e){return a.timedownshowmm(e)},timedownnum(e){return a.timedownnum(e)}},methods:{multiplcShareFunc(){console.log("selectItemsAry"),console.log(this.listItem),console.log("button_5"),console.log(this.button_5),console.log("button_2"),console.log(this.button_2),console.log("button_3"),console.log(this.button_3),console.log("\u4E0B\u8F7D\u6B21\u6570"),console.log(this.downNumber),console.log("\u65F6\u95F4"),console.log(this.downDay),console.log("button_4"),console.log(this.button_4),console.log("button_1"),console.log(this.button_1)},switch2Change(e){e.target.value?this.button_2=1:this.button_2=0,console.log(this.button_2)},switch1Change(e){e.target.value?this.button_1=1:this.button_1=0,console.log(this.button_1)},switch4Change(e){e.target.value?this.button_4=1:this.button_4=0,console.log(this.button_4)},bindTextAreaBlur(e){console.log(e),console.log(this.button_5)},maskClose(){},closePop(){this.$refs.midPop.close()},closeRename(){this.$refs.reNamePop.close()},closeDel(){this.$refs.delPop.close()},closeShare(){this.$refs.sharePop.close()},renameClick(){this.$refs.midPop.close(),this.$refs.reNamePop.open()},shareClick(){this.$refs.midPop.close(),this.$refs.shareSett.changeBtn(),this.$refs.shareSett.selectItemsAry.push(this.listItem),this.$refs.shareSett.$refs.sharePop.open()},delClick(){this.$refs.midPop.close(),this.$refs.delPop.open()},async deleteAry(){t.index.showLoading({title:"\u5220\u9664\u4E2D"});let e=[];this.selectItemsAry.push(this.listItem),this.selectItemsAry.forEach(l=>{let r={};l.moveType=="1"?r.deleteID=l.fileId:r.deleteID=l.folderId,r.deleteType=l.moveType,e.push(r)});const n=await c.batchDelete(e);if(n.data.code!==0){t.index.showToast({icon:"none",title:n.data.msg});return}else t.index.hideLoading(),t.index.showToast({icon:"none",title:n.data.msg}),this.$emit("getCreateData"),this.closeDel()},async confirmName(){if(this.resetName==""){t.index.showToast({icon:"none",title:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D\uFF01"});return}let e=this.listItem,n=await c.verifyExist(e.superFolder,this.resetName);if(console.log(this.resetName),n.data.code==1){t.index.showToast({icon:"none",title:n.data.msg});return}else{let l={};e.moveType=="2"?(l.renameID=e.folderId,l.renameType=e.moveType):(l.renameID=e.fileId,l.renameType=e.moveType),l.renameName=this.resetName,c.rename(l).then(r=>{r.data.code=="0"?(this.dialogTableVisible=!1,t.index.showToast({icon:"none",title:r.data.msg}),this.resetName="",this.resetNameShow=!1,this.$emit("getCreateData"),this.closeRename()):t.index.showToast({icon:"none",title:r.data.msg})})}},dateFormate(e){let n=this.$options.filters.timedown(e),l=this.$options.filters.timedownnum(e);if(l==!0){let r=this.$options.filters.timedownshow(e),o=this.$options.filters.timedownshowmm(e);return"\u4ECA\u5929  "+r+":"+o}else if(n<=2&&l==!1){let r=this.$options.filters.timedownshow(e),o=this.$options.filters.timedownshowmm(e);return"\u6628\u5929  "+r+":"+o}else return e},byTes(e){return e<=0?"0B":a.bytesToSize(e)}}};if(!Array){const e=t.resolveComponent("filePop"),n=t.resolveComponent("uni-popup"),l=t.resolveComponent("shareSetting");(e+n+l)()}const p=()=>"../../uni_modules/uni-popup/components/uni-popup/uni-popup.js";Math||p();function f(e,n,l,r,o,s){return t.e({a:o.showPage},o.showPage?t.e({b:o.listItem.fileClass=="image"},o.listItem.fileClass=="image"?{c:m._imports_8}:{},{d:o.listItem.fileClass=="video"},o.listItem.fileClass=="video"?{e:m._imports_9}:{},{f:o.listItem.fileClass=="file"},o.listItem.fileClass=="file"?{g:m._imports_10}:{},{h:o.listItem.fileClass=="floder"},o.listItem.fileClass=="floder"?{i:m._imports_4}:{},{j:t.t(o.listItem.name),k:t.t(s.dateFormate(o.listItem.createDate)),l:t.t(s.byTes(o.listItem.size)),m:m._imports_3,n:t.o((...i)=>s.closePop&&s.closePop(...i)),o:t.o((...i)=>s.renameClick&&s.renameClick(...i)),p:t.o((...i)=>s.shareClick&&s.shareClick(...i)),q:t.o((...i)=>s.delClick&&s.delClick(...i)),r:t.sr("midPop","441e0c64-0"),s:t.o(s.maskClose),t:t.o(s.closePop)}):{},{v:t.o((...i)=>s.closeRename&&s.closeRename(...i)),w:m._imports_3,x:t.o((...i)=>s.confirmName&&s.confirmName(...i)),y:o.resetName,z:t.o(i=>o.resetName=i.detail.value),A:t.sr("reNamePop","441e0c64-1"),B:t.o(s.closeRename),C:t.p({type:"bottom",["safe-area"]:!1}),D:t.o((...i)=>s.closeDel&&s.closeDel(...i)),E:m._imports_3,F:t.o(i=>s.deleteAry()),G:t.o((...i)=>s.closeDel&&s.closeDel(...i)),H:t.sr("delPop","441e0c64-2"),I:t.o(s.closeDel),J:t.p({type:"bottom",["safe-area"]:!1}),K:t.sr("shareSett","441e0c64-3")})}var _=t._export_sfc(d,[["render",f],["__scopeId","data-v-441e0c64"],["__file","E:/Code/BeiJing-Digitalsee/Group-project/pageIndex/components/indexPop.vue"]]);wx.createComponent(_);
