"use strict";var e=require("../../common/vendor.js"),r=require("../../utils/api.js"),d=require("../../common/assets.js");require("../../utils/http.js");require("../../utils/index1.js");require("../../utils/base.js");const l=()=>"../../components/NavBer.js",g={data(){return{href:"https://uniapp.dcloud.io",title:"\u963F\u53D1\u963F\u53D1",backgroundColor:""}},onLoad(o){console.log(o),o.softId,this.softId=o.softId},components:{navbar:l},methods:{goBack(){e.index.navigateBake()},getUserInfo(){let o=this;e.index.showLoading({title:"\u767B\u5F55\u4E2D"}),e.index.getUserProfile({desc:"\u5FAE\u4FE1\u767B\u9646\u540E\u540C\u6B65\u6570\u636E",success:async t=>{console.log(t),e.index.login({provider:"weixin",success:async i=>{if(console.log(i),console.log(i.code),console.log(666),o.code=i.code,i.errMsg=="login:ok"){let c={code:i.code};const a=await r.wxappletLogin(c);if(console.log(a),a.data.code==0){let n=a.data.data;e.index.setStorageSync("token",n.token),e.index.setStorageSync("userInfo",JSON.stringify(n)),e.index.setStorageSync("inviteLink",n.inviteLink),e.index.showToast({icon:"none",title:a.data.msg}),setTimeout(()=>{e.index.reLaunch({url:"/pageIndex/index/index"})},800)}else e.index.showToast({icon:"none",title:a.data.msg})}}})},fail:()=>{e.index.showToast({title:"\u6388\u6743\u5DF2\u53D6\u6D88",icon:"error",mask:!0})},complete:()=>{e.index.hideLoading()}})},goLogin(o){e.index.navigateTo({url:"/pages/login/phoneEmail?id="+o})},mailClick(){let o={};o.userName="1725565883@qq.com",o.password="123456",r.mailLogin(o).then(t=>{console.log(t),t.code==200})}}};Array||e.resolveComponent("navbar")();function u(o,t,i,c,a,n){return{a:e.o(n.goBack),b:e.p({background:a.backgroundColor}),c:d._imports_0,d:e.o((...s)=>n.getUserInfo&&n.getUserInfo(...s)),e:e.o(s=>n.goLogin(1)),f:e.o(s=>n.goLogin(2))}}var m=e._export_sfc(g,[["render",u],["__scopeId","data-v-b237504c"],["__file","D:/WXFile/WeChat Files/wxid_24g7xarmwwne22/FileStorage/File/2023-06/483a303c5dc0354ecc26cfa10a7ddca7_c3ad831319d2832c177ef660df75d852_8/wkkcApplet/pages/login/login.vue"]]);wx.createPage(m);
