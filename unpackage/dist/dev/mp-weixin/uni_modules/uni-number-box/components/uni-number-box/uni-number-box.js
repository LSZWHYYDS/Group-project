"use strict";var a=require("../../../../common/vendor.js");const c={name:"UniNumberBox",emits:["change","input","update:modelValue","blur","focus"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},background:{type:String,default:"#f5f5f5"},color:{type:String,default:"#333"},disabled:{type:Boolean,default:!1}},data(){return{inputValue:0}},watch:{value(i){this.inputValue=+i},modelValue(i){this.inputValue=+i}},created(){this.value===1&&(this.inputValue=+this.modelValue),this.modelValue===1&&(this.inputValue=+this.value)},methods:{_calcValue(i){if(this.disabled)return;const t=this._getDecimalScale();let e=this.inputValue*t,s=this.step*t;if(i==="minus"){if(e-=s,e<this.min*t)return;e>this.max*t&&(e=this.max*t)}if(i==="plus"){if(e+=s,e>this.max*t)return;e<this.min*t&&(e=this.min*t)}this.inputValue=(e/t).toFixed(String(t).length-1),this.$emit("change",+this.inputValue),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue)},_getDecimalScale(){let i=1;return~~this.step!==this.step&&(i=Math.pow(10,String(this.step).split(".")[1].length)),i},_onBlur(i){this.$emit("blur",i);let t=i.detail.value;if(isNaN(t)){this.inputValue=this.min;return}t=+t,t>this.max?t=this.max:t<this.min&&(t=this.min);const e=this._getDecimalScale();this.inputValue=t.toFixed(String(e).length-1),this.$emit("change",+this.inputValue),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue)},_onFocus(i){this.$emit("focus",i)}}};function m(i,t,e,s,n,l){return{a:n.inputValue<=e.min||e.disabled?1:"",b:e.color,c:a.o(u=>l._calcValue("minus")),d:e.background,e:e.disabled,f:a.o((...u)=>l._onFocus&&l._onFocus(...u)),g:a.o((...u)=>l._onBlur&&l._onBlur(...u)),h:e.background,i:e.color,j:n.inputValue,k:a.o(u=>n.inputValue=u.detail.value),l:n.inputValue>=e.max||e.disabled?1:"",m:e.color,n:a.o(u=>l._calcValue("plus")),o:e.background}}var h=a._export_sfc(c,[["render",m],["__file","D:/WXFile/WeChat Files/wxid_24g7xarmwwne22/FileStorage/File/2023-06/483a303c5dc0354ecc26cfa10a7ddca7_c3ad831319d2832c177ef660df75d852_8/wkkcApplet/uni_modules/uni-number-box/components/uni-number-box/uni-number-box.vue"]]);wx.createComponent(h);
